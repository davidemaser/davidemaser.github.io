var pfLang=app.lang,pfHero=0,pfMode=app.params.s,pfExport="hero",sPos=0,core={panelAlert:function(e,t){if(1==app.dialog){var a=".panel-body.bottom_level_bt";if(t==app.params.e){$(a).find(app.objects.g).removeClass("allGood").removeClass("glyphicon-ok").addClass("allBad").addClass("glyphicon-remove");var o=app.animation.d.max}else t==app.params.g&&($(a).find(app.objects.g).removeClass("allBad").removeClass("glyphicon-remove").addClass("allGood").addClass("glyphicon-ok"),o=1e4);$(a).slideDown(),$(a).find(".inner_message").html(e),setTimeout("$('.panel-body.bottom_level_bt').slideUp()",o)}},getVersion:function(e){try{$.ajax({type:app.methods.g,url:app.version,success:function(t){var a=t.project.version,o=t.project.history.length-1,n=t.project.history[o].date;if(1==e)document.title="Page Builder "+a,$(".version_number").attr("title","You are using version "+a+", last updated "+n).html(a),$("html").attr("data-version",a),core.tagNew(a);else if(0==e){var l=$("html").attr("data-version");(a>l||l>a)&&core.initVersionUpdate()}}})}catch(t){console.log(t)}},languageManager:function(e){switch(e=$("html").attr("data-language")||e){case"en_EN":var t="fr_FR";break;case"fr_FR":t="en_EN"}try{$.ajax({type:app.methods.g,url:"data/language/"+t+".json",success:function(e){for(var t=e.node.section[0].actions.length,a=[],o=0;t>o;o++)a.push({objID:e.node.section[0].actions[o].id,objTran:e.node.section[0].actions[o].translate}),$('[data-lang-id="'+e.node.section[0].actions[o].id+'"]').html(e.node.section[0].actions[o].translate),$('[data-lang-id="'+e.node.section[0].preview[o].id+'"]').html(e.node.section[0].preview[o].translate),$('[data-lang-id="'+e.node.section[0].help[o].id+'"]').html(e.node.section[0].help[o].translate);console.log(a)}})}catch(a){console.log(a)}},initVersionUpdate:function(){$(".init-update").remove();var e='<div class="init-update"><div class="blackify_overlay"><div class="prompt-update"><div class="prompt-icon"><span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span></div><div class="prompt-message">A newer version of the PageBuilder app has been detected. Do you want to load the newer version now? <br><br>Make sure you save all your work before answering YES.</div><div class="prompt-choice"><button type="button" class="btn btn-update true" data-toggle="dropdown" aria-expanded="false">YES</button><button type="button" class="btn btn-update false" data-toggle="dropdown" aria-expanded="false">NO</button></div></div></div></div>';$(app.dom.b).append(e).on("click",".btn-update.true",function(){location.reload()}).on("click",".btn-update.false",function(){$(this).parent().parent().parent().parent().remove(),core.panelAlert("Version update stopped. The update prompt will reappear at the next update interval.","good")})},tagNew:function(e){var t='<style>.main_nav a[data-version="'+e+'"]:after {content: "new";float: right;background-color: #f0ad4e;padding: 2px 5px;font-size: 10px;color: #fff;font-weight: bold;}</style>';$(app.dom.b).append(t).find('a[data-version="'+e+'"]').attr("title","This feature is new to the current version")},initializeForm:function(){$.ajax({type:app.methods.g,url:app.objects.form.l,success:function(e){var t=e.layout,a='<div id="entry1" class="clonedInput" '+app.handlers.s+'="1"><form action="'+t.form_action+'" method="'+t.method+'" id="'+t.form_id+'" role="form">';a+=t.header,a+="<fieldset>";for(var o=t.block,n=o.length,l=0;n>l;l++)if("custom"!==o[l].display){if(l%2===0||0===l){1==o[l].wrap_group&&(a+='<div class="'+o[l].wrap_group_class+'">'),a+='<div class="form-group">';var r=" lItem"}else r="";if("empty"!==o[l].display){switch(o[l].display){case"full":var s="";r="";break;case"half":s="half_span"}if(a+='<div class="'+s+" "+r+'">',a+='<label class="label_fn control-label" for="'+o[l].obj_id+'">'+o[l].label+"</label>",1==o[l].wrap&&(a+='<div class="'+o[l].wrap_class+'">'),""!==o[l].inject_code&&(a+=o[l].inject_code),"text"==o[l].input_obj){if(a+="<input",""!==o[l].obj_id&&(a+=' id="'+o[l].obj_id+'" name="'+o[l].obj_id+'"'),a+=' type="text" placeholder="'+o[l].placeholder+'" class="input_fn form-control',""!==o[l].class&&(a+=" "+o[l].class),""!==o[l].obj_label&&(a+=" "+o[l].obj_label),a+='"',null!==o[l].options)for(var i=o[l].options.length,p=0;i>p;p++)a+=" "+o[l].options[p].item+'="'+o[l].options[p].value+'"';if(null!==o[l].data)for(var d=o[l].data.length,c=0;d>c;c++)a+=" data-"+o[l].data[c].item+'="'+o[l].data[c].value+'"';a+=">"}else if("radio"==o[l].input_obj){if(a+="<input",a+=' type="radio"',""!==o[l].class&&(a+=' class="'+o[l].class+'"'),""!==o[l].obj_label&&(a+=" "+o[l].obj_label),""!==o[l].obj_id&&(a+=' id="'+o[l].obj_id+'" name="'+o[l].obj_id+'"'),null!==o[l].options)for(i=o[l].options.length,p=0;i>p;p++)a+=" "+o[l].options[p].item+'="'+o[l].options[p].value+'"',void 0!==o[l].options[p].default&&(a+=" "+o[l].options[p].default);if(null!==o[l].data)for(d=o[l].data.length,c=0;d>c;c++)a+=" data-"+o[l].data[c].item+'="'+o[l].data[c].value+'"';a+=">"}else if("select"==o[l].input_obj){if(a+="<select",""!==o[l].class&&(a+=' class="form-control '+o[l].class+'"'),""!==o[l].obj_label&&(a+=" "+o[l].obj_label),""!==o[l].obj_id&&(a+=' id="'+o[l].obj_id+'" name="'+o[l].obj_id+'"',null!==o[l].data))for(d=o[l].data.length,c=0;d>c;c++)a+=" data-"+o[l].data[c].item+'="'+o[l].data[c].value+'"';if(a+=">",null!==o[l].options)for(i=o[l].options.length,p=0;i>p;p++)a+="<option",a+=" "+o[l].options[p].item+'="'+o[l].options[p].value+'"',void 0!==o[l].options[p].default&&(a+=" "+o[l].options[p].default),a+=">"+o[l].options[p].label,a+="</option>";a+="</select>"}""!==o[l].append&&(a+=o[l].append),1==o[l].wrap&&(a+="</div>"),a+="</div>"}l%2===1&&(a+="</div>",1==o[l].wrap_group&&(a+="</div>"))}else a+=o[l].inject_code;a+="</fieldset>",a+="</form></div>"}})},switchModes:function(e){"hello"==e?($('*[data-role="hero"]').css("display","none"),$('*[data-role="hello"]').css("display","block"),pfExport="hello",$(".submit_json").attr("data-nmode","hello"),core.panelAlert("Switched to Hello Banner Creation mode","good")):($('*[data-role="hello"]').css("display","none"),$('*[data-role="hero"]').attr("style",""),pfExport="hero",$(".submit_json").attr("data-nmode","hero"),core.panelAlert("Switched to Hero Banner Creation mode","good"))},initializeTheme:function(){if(window.localStorage){var e=localStorage.getItem(app.storage.t);null==e||void 0==e?$("html").attr(app.handlers.t,"light"):$("html").attr(app.handlers.t,e)}else $("html").attr(app.handlers.t,"light")},initHelp:function(){$.ajax({type:app.methods.g,url:"data/help.json",success:function(e){for(var t=0;t<e.items.length;t++){if(t>0)var a="push_block";else a="";$(".help-items").append('<li><a class="helpItem" data-target="'+t+'">'+e.items[t].title+"</a></li>"),$(".help_panel_holder").append('<div class="help_item" id="hlp'+t+'" data-helper="'+t+'"><h4 class="'+a+'">'+e.items[t].title+"</h4>"+e.items[t].block+"</div>")}},error:function(){core.panelAlert("Unable to load Help Contents from JSON source","error")}})},setHeadSec:function(){try{var e=localStorage.getItem(app.storage.n);if(null!==e){$(app.objects.l).css("display","inline-block"),$("#import_json").css("display","block"),$(".lsLoad").find("li").remove();var t=localStorage.getItem(app.storage.n).split(","),a=t.length;if(a>1)for(var o=0;a>o;o++)""!==t[o]&&$(".lsLoad").append('<li><a href="#" class="loadItem" '+app.handlers.i+'="'+t[o]+'">'+t[o]+"</a></li>");else $(app.objects.l).hide()}else $(app.objects.l).css("display","none"),$("#import_json").css("display","none")}catch(n){console.log(n)}},launchBats:function(){function e(e,t){return Math.max(Math.min(e+400*(a()-.5),t-50),50)}function t(){var a=e(p,l.innerWidth),n=e(d,l.innerHeight),s=5*Math.sqrt((p-a)*(p-a)+(d-n)*(d-n));i.opacity=o,o=1,i.transition=i.webkitTransition=s/1e3+"s linear",i.transform=i.webkitTransform="translate("+a+"px,"+n+"px)",r.style.transform=r.style.webkitTransform=p>a?"":"scaleX(-1)",p=a,d=n,setTimeout(t,s)}var a=Math.random,o=0,n=document,l=window,r=n.createElement("img"),s=n.createElement("div"),i=s.style,p=l.innerWidth*a(),d=l.innerHeight*a();s.className="oooobats",i.position="fixed",i.left=0,i.top=0,i.opacity=0,s.appendChild(r),r.src="data:image/gif;base64,R0lGODlhMAAwAJECAAAAAEJCQv///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQACACwAAAAAMAAwAAACdpSPqcvtD6NcYNpbr4Z5ewV0UvhRohOe5UE+6cq0carCgpzQuM3ut16zvRBAH+/XKQ6PvaQyCFs+mbnWlEq0FrGi15XZJSmxP8OTRj4DyWY1lKdmV8fyLL3eXOPn6D3f6BcoOEhYaHiImKi4yNjo+AgZKTl5WAAAIfkECQEAAgAsAAAAADAAMAAAAnyUj6nL7Q+jdCDWicF9G1vdeWICao05ciUVpkrZIqjLwCdI16s+5wfck+F8JOBiR/zZZAJk0mAsDp/KIHRKvVqb2KxTu/Vdvt/nGFs2V5Bpta3tBcKp8m5WWL/z5PpbtH/0B/iyNGh4iJiouMjY6PgIGSk5SVlpeYmZqVkAACH5BAkBAAIALAAAAAAwADAAAAJhlI+py+0Po5y02ouz3rz7D4biSJbmiabq6gCs4B5AvM7GTKv4buby7vsAbT9gZ4h0JYmZpXO4YEKeVCk0QkVUlw+uYovE8ibgaVBSLm1Pa3W194rL5/S6/Y7P6/f8vp9SAAAh+QQJAQACACwAAAAAMAAwAAACZZSPqcvtD6OctNqLs968+w+G4kiW5omm6ooALeCusAHHclyzQs3rOz9jAXuqIRFlPJ6SQWRSaIQOpUBqtfjEZpfMJqmrHIFtpbGze2ZywWu0aUwWEbfiZvQdD4sXuWUj7gPos1EAACH5BAkBAAIALAAAAAAwADAAAAJrlI+py+0Po5y02ouz3rz7D4ZiCIxUaU4Amjrr+rDg+7ojXTdyh+e7kPP0egjabGg0EIVImHLJa6KaUam1aqVynNNsUvPTQjO/J84cFA3RzlaJO2495TF63Y7P6/f8vv8PGCg4SFhoeIg4UQAAIfkEBQEAAgAsAAAAADAAMAAAAnaUj6nL7Q+jXGDaW6+GeXsFdFL4UaITnuVBPunKtHGqwoKc0LjN7rdes70QQB/v1ykOj72kMghbPpm51pRKtBaxoteV2SUpsT/Dk0Y+A8lmNZSnZlfH8iy93lzj5+g93+gXKDhIWGh4iJiouMjY6PgIGSk5eVgAADs=",n.body.appendChild(s),setTimeout(t,3e3*a())},killBats:function(){$(".oooobats").remove(),$(".batsToggle").attr("data-status","allGone").html("Let In The Bats")},resetItems:function(){$(app.objects.re).length>0?($(app.objects.w).find(app.objects.cl).sort(function(e,t){return $(e).attr("id").replace("entry","")-$(t).attr("id").replace("entry","")}).appendTo(app.objects.w),$(app.objects.re).remove(),core.panelAlert("Items reset to their original position","good")):core.panelAlert("All items are in their original position","error")},choseLocalSave:function(){try{$("#loadandsave-zone").attr(app.handlers.r,"load").css("display","block");var e=localStorage.getItem(app.storage.n),t=$(".lsOptions");if(null!==e||void 0!==e){var a=e.split(","),o=a.length;$(".lsOptions").find("option").remove(),$(t).append('<option value="null">SELECT</option>');for(var n=0;o>n;n++)$(t).append('<option value="'+a[n]+'">'+a[n]+"</option>")}else $(t).append('<option value="null">No Local Storage Found</option>')}catch(l){}},doLocalSave:function(e){if("do"==e||null==e)$("#loadandsave-zone").attr("data-reason","save").css("display","block");else if("reset"==e){localStorage.setItem("pgb_SavedNode_LS","");for(var t=0,a=localStorage.length;a>t;t++){var o=localStorage.key(t);o.indexOf("pgb_SavedNode_")>-1&&o.indexOf("pgb_SavedNode_LS")<0&&localStorage.removeItem(o)}}},scrollState:function(e){var t,a,o=$(window).height(),n=$(document).height(),l=$("progress");t=n-o,l.attr("max",t),"a"==e?(o=$(window).height(),n=$(document).height(),t=n-o,l.attr("max",t),a=$(window).scrollTop(),l.attr("value",a)):"b"==e&&(a=$(window).scrollTop(),l.attr("value",a))},OpenInNewTab:function(e){var t=window.open(e,"_blank");t.focus()},addMulti:function(e){for(var t=0;e>t;t++)core.addItems();core.panelAlert("Items Added","good")},jumpToHelper:function(e){$(".help_panel_holder").animate({scrollTop:$(app.objects.hi+'[data-helper="'+e+'"]').offset().top,duration:app.animation.d.min}),$(app.objects.hi).animate({opacity:.4,duration:app.animation.d.min}),$(app.objects.hi+'[data-helper="'+e+'"]').animate({opacity:1,duration:app.animation.d.min})},saveNodeToLS:function(e,t){if(window.localStorage){(null==localStorage.getItem("pgb_SavedNode_LS")||void 0==localStorage.getItem("pgb_SavedNode_LS"))&&localStorage.setItem("pgb_SavedNode_LS","");var a=localStorage.getItem("pgb_SavedNode_LS"),o=a.split(",").length;if(o>0)var n=a+","+t;else n=t;localStorage.setItem("pgb_SavedNode_LS",n),localStorage.setItem("pgb_SavedNode_"+t,e),core.panelAlert("Data Saved To Local Storage","good")}},addItems:function(){"block"==$(app.objects.o).css("display")&&$(app.objects.o).css("display","none");var e=$(app.objects.cl).length,t=new Number(e+1),a=$(app.objects.e+e).clone().attr("id","entry"+t);a.find(".heading-reference").attr("id","ID"+t+"_reference").attr("name","ID"+t+"_reference").html('<div class="btn-group bigboy"><button type="button" class="btn btn-info">ITEM <span class="label label-default">'+t+'</span></button><button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span><span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu"><li><a class="previewItem large" href="javascript:;" data-hero="'+t+'" data-role="hero">Preview Large</a></li><li><a class="previewItem small" href="javascript:;" data-hero="'+t+'" data-role="hero">Preview Small</a></li></ul></div>'),a.attr(app.handlers.s,t),a.find(".label_ttl").attr("for","ID"+t+"_title"),a.find('.select_ttl:not(".objButtonPopupLink")').attr("id","ID"+t+"_title").attr("name","ID"+t+"_title").val(""),a.find(".label_fn").attr("for","ID"+t+"_first_name"),a.find(".input_fn").attr("id","ID"+t+"_first_name").attr("name","ID"+t+"_first_name").val(""),a.find(".label_ln").attr("for","ID"+t+"_last_name"),a.find(".input_ln").attr("id","ID"+t+"_last_name").attr("name","ID"+t+"_last_name").val(""),a.find(".label_checkboxitem").attr("for","ID"+t+"_checkboxitem"),a.find(".input_checkboxitem").attr("id","ID"+t+"_checkboxitem").attr("name","ID"+t+"_checkboxitem").val([]),a.find(".radio:nth-child(1)").attr("for","ID"+t+"_radioitemA").find(".input_radio").attr("id","ID"+t+"_radioitemA").attr("name","ID"+t+"_radioitem").val([]),a.find(".radio:nth-child(2)").attr("for","ID"+t+"_radioitemB").find(".input_radio").attr("id","ID"+t+"_radioitemB").attr("name","ID"+t+"_radioitem").val([]),a.find(".label_email").attr("for","ID"+t+"_email_address"),a.find(".input_email").attr("id","ID"+t+"_email_address").attr("name","ID"+t+"_email_address").val(""),a.find(".label_twt").attr("for","ID"+t+"_twitter_handle"),a.find(".input_twt").attr("id","ID"+t+"_twitter_handle").attr("name","ID"+t+"_twitter_handle").val(""),a.find(app.objects.c).attr(app.handlers.d,t),a.find(".check_alt_image").attr(app.handlers.d,t),a.find(".input-group-addon.image_count").attr("style","").html("Shopify CDN"),a.find(".mod-radio").attr("style",""),$(".clonedInput:last").after(a),$("#ID"+t+"_title").focus(),$("#btnDel").attr("disabled",!1),10==t&&$(".btnAdd").attr("disabled",!0).prop("value","You've reached the limit");new Date;$(".date_obj").datetimepicker({format:"MM/DD/YYYY HH:mm"}),$(".snapTo").append('<li><a href="#" class="gotoItem" '+app.handlers.i+'="'+t+'">Item '+t+"</a></li>"),$(app.objects.r).animate({scrollTop:$(app.objects.e+t).offset().top-60},app.animation.d.min),$(".btn-group.bigboy:not(.helpMePlease)").last().find("ul").append('<li class="divider" data-role="hero"></li><li><a class="removeThisItem" '+app.handlers.i+'="'+t+'" href="javascript:;">Remove</a></li><li class="divider"></li><li><a class="moveUpThisItem" '+app.handlers.i+'="'+t+'" href="javascript:;">Move Up<span class="glyphicon glyphicon-arrow-up"></span></a></li><li><a class="moveDownThisItem" '+app.handlers.i+'="'+t+'" href="javascript:;">Move Down<span class="glyphicon glyphicon-arrow-down"></span></a></li>'),$(app.objects.e+t).find(".mod-radio").find("input").first().prop("checked",!0),core.scrollState("a"),core.panelAlert("Item Added","good")},deleteItems:function(e){if($(app.objects.cl).length>1){if("block"==$(app.objects.o).css("display")&&$(app.objects.o).css("display","none"),"last"==e){var t=$(".clonedInput:last").attr("id"),a=t.replace("entry","");$("#"+t).slideUp("slow",function(){$(this).remove(),e-1===1&&$(".btnDel").attr("disabled",!0),$(".btnAdd").attr("disabled",!1).prop("value","add section")}),$(".snapTo").find(".gotoItem["+app.handlers.i+'="'+a+'"]').parent().remove(),core.scrollState("a")}else $(app.objects.e+e).slideUp("slow",function(){$(this).remove(),e-1===1&&$(".btnDel").attr("disabled",!0),$(".btnAdd").attr("disabled",!1).prop("value","add section")}),$(".snapTo").find(".gotoItem["+app.handlers.i+'="'+e+'"]').parent().remove(),core.scrollState("a");return core.panelAlert("Last Item Removed","good"),!1}},validateJSON:function(){$("#output_code").validateJSON({compress:!1,reformat:!0,onSuccess:function(){core.panelAlert("JSON Code is valid","good")},onError:function(){core.panelAlert("A JSON error has been encountered. The line on which the error has occured is highlighted.","error")}})},errorHandler:function(){for(var e=[],t=JSON.parse($(app.objects.o+"["+app.handlers.r+'="output"]').find("textarea").val()).hero,a=t.length,o=0,n=0;a>n;n++)""==t[n].date.start&&(e.push({form:n+1,obj:"Start Date",prob:"No Value. FATAL",elem:"objStart",die:!0}),o++),""==t[n].date.end&&(e.push({form:n+1,obj:"End Date",prob:"No Value. FATAL",elem:"objEnd",die:!0}),o++),""==t[n].title.en&&(e.push({form:n+1,obj:"English Title",prob:"No Value",elem:"objTitleEN",die:!1}),o++),""==t[n].title.fr&&(e.push({form:n+1,obj:"French Title",prob:"No Value",elem:"objTitleFR",die:!1}),o++),""==t[n].text.en&&(e.push({form:n+1,obj:"English Text",prob:"No Value",elem:"objTextEN",die:!1}),o++),""==t[n].text.fr&&(e.push({form:n+1,obj:"French Text",prob:"No Value",elem:"objTextFR",die:!1}),o++),""==t[n].button.label.en&&(e.push({form:n+1,obj:"English Button Label",prob:"No Value",elem:"objButtonEN",die:!1}),o++),""==t[n].button.label.fr&&(e.push({form:n+1,obj:"French Button Label",prob:"No Value",elem:"objButtonFR",die:!1}),o++),""==t[n].button.url&&(e.push({form:n+1,obj:"Button URL",prob:"No Value",elem:"objButtonLink",die:!1}),o++),""==t[n].image.url&&(e.push({form:n+1,obj:"Image URL",prob:"No Value",elem:"objImageMain",die:!1}),o++);if(e.reverse(),o>0){$(app.objects.el).css("display","inline-block"),$(".errorListing").empty();for(var l=0;l<e.length;l++)$(".errorListing").prepend('<li><a href="javascript:;" class="errorItem '+e[l].die+'" '+app.handlers.i+'="'+l+'">Item '+e[l].form+" : "+e[l].obj+" : "+e[l].prob+"</a></li>"),core.registerErrorButtons(e[l].form,e[l].elem,l,e[l].prob,e[l].die);$(app.objects.el).find("button").html('Warnings<span class="label label-default numerrors">'+e.length+'</span><span class="caret"></span>')}else $(app.objects.el).css("display","none")},registerErrorButtons:function(e,t,a,o,n){$(app.objects.bo).on("click",".errorItem["+app.handlers.i+'="'+a+'"]',function(){1==n?$(app.objects.e+e).find("."+t).css("background-color","rgba(238, 54, 54, 0.3)").css("border-color","red").attr("placeholder","Leaving this field empty will cause the hero banner function to fail"):$(app.objects.e+e).find("."+t).css("background-color","rgba(238, 162, 54, 0.3)"),$(app.objects.o).hide(),$(app.objects.r).css("overflow","auto"),$(app.objects.r).animate({scrollTop:$(app.objects.e+e+" ."+t).offset().top-100},app.animation.d.min),"input_holders"!==$("."+t).parent().attr("class")&&$("."+t).wrap('<div class="input_holders"></div>').parent().append('<div class="input_alerts" title="'+o+'"><span class="glyphicon glyphicon-exclamation-sign"></span></div>')})},traverseJSON:function(e,t){if(""!==$(app.objects.b+" textarea").val()||""!==localStorage.getItem("pgb_SavedNode")){if(0==e){var a=$(app.objects.b+" textarea").val();""==a&&core.panelAlert("Form Does Not Contain JSON Data","error")}else 1==e&&""!==t&&(void 0!==localStorage.getItem("pgb_SavedNode_"+t)&&null!==localStorage.getItem("pgb_SavedNode_"+t)&&""!==localStorage.getItem("pgb_SavedNode_"+t)?a=localStorage.getItem("pgb_SavedNode_"+t).replace(",null",""):core.panelAlert("No Data Found In Local Storage","error"));var o=JSON.parse(a),n=o.hero,l=n.length,r=$(app.objects.cl).length,s=[];if(l>r)var i=l-r;for(var p=0;i>p;p++)core.addItems();for(var d=0;l>d;d++)s.push(n[d]);core.jsonToForm(s),core.panelAlert("Data Translated To Form","good")}else core.panelAlert("Please generate or paste JSON before using this function","error")},jsonToForm:function(e){for(var t=e.length,a=0;t>a;a++){var o="entry"+(a+1),n="#"+o;$(n).find(".objStart").val(e[a].date.start),$(n).find(".objEnd").val(e[a].date.end),$(n).find(".objTitleEN").val(e[a].title.en),$(n).find(".objTitleFR").val(e[a].title.fr),$(n).find(".objTitleCol").val(e[a].title.color),$(n).find(".objTextEN").val(e[a].text.en),$(n).find(".objTextFR").val(e[a].text.fr),$(n).find(".objImageMain").val(e[a].image.url),$(n).find(".objImageAlt").val(e[a].image.altUrl),$(n).find(".objButtonEN").val(e[a].button.label.en),$(n).find(".objButtonFR").val(e[a].button.label.fr),$(n).find(".objButtonLink").val(e[a].button.url),e[a].date.delay===!0||e[a].date.delay===!1?setTimeout("panelAlert('Some delay entries are not numerical. Make sure to set all delay entries to a numerical value manually.','error')",2e3):$(n).find(".objDelay").val(""==e[a].date.delay||null==e[a].date.delay||void 0==e[a].date.delay||"undefined"==e[a].date.delay?0:e[a].date.delay),$(n).find(".objCountdownShow").val(e[a].showCountdown),$(n).find('.objButtonPopup option[value="'+e[a].popUpLink+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objButtonPopupLink option[value="'+e[a].button.popUpLinkID+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objCountdownShow option[value="'+e[a].showCountdown+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objHeroSticky option[value="'+e[a].sticky+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objHeroTitleShow option[value="'+e[a].title.showTitle+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objHeroSubtitleShow option[value="'+e[a].text.showSubTitle+'"]').attr("selected",!0).prop("selected",!0),$(n).find('.objHeroPromote option[value="'+e[a].promote+'"]').attr("selected",!0).prop("selected",!0),1==e[a].active?($(n).find(".mod-radio").find('input[type="radio"]').first().prop("checked",!0),$(n).find(".mod-radio").find('input[type="radio"]').last().prop("checked",!1)):0==e[a].active&&($(n).find(".mod-radio").css("border-left-width","6px").css("border-left-style","solid").css("border-left-color","rgb(253, 0, 0)"),$(n).find(".mod-radio").find('input[type="radio"]').first().prop("checked",!1),$(n).find(".mod-radio").find('input[type="radio"]').last().prop("checked",!0)),"block"==$(app.objects.o).css("display")&&($(app.objects.o).hide(),$(app.objects.r).css("overflow","auto")),$(app.objects.r).css("overflow","auto")}},prepareJSON:function(e,t,a){var o=[];"hero"==a||""==a||null==a||void 0==a?($('.clonedInput form fieldset[data-role="hero"]').each(function(){var e=$(this).serializeArray();o.push(e)}),"full"==e?core.outputJson(o,e,null,a):"save"==e&&core.outputJson(o,e,t,"hero")):"hello"==a&&($('.clonedInput form fieldset[data-role="hello"]').each(function(){var e=$(this).serializeArray();o.push(e)}),core.outputJson(o,"full",null,"hello"))},outputJson:function(e,t,a,o){try{var n=e.length,l=n-1;if("hello"==o){for(var r='{\n    "hello": [\n',s=0;n>s;s++)r+='       {\n        "helloItem": "hello'+s+'",',r+='\n        "date": {',r+='\n          "start": "'+e[s][0].value+'",',r+='\n          "end": "'+e[s][1].value+'"',r+="\n        },",r+='\n        "text": {',r+='\n          "en": "'+e[s][2].value.trim().replace(/"/g,"")+'",',r+='\n          "fr": "'+e[s][3].value.trim().replace(/"/g,"")+'"',r+="\n        }",l>s&&(r+="\n},\n");r+="\n      }\n   ]\n}"}else if("hero"==o){for(r='{\n    "hero": [\n',s=0;n>s;s++){if(console.log(e[s][13].value),""==e[s][13].value||null==e[s][13].value||void 0==e[s][13].value)var i="null";else i=e[s][13].value;if(""==e[s][14].value||null==e[s][14].value||void 0==e[s][14].value)var p=!0;else p=e[s][14].value;if(""==e[s][15].value||null==e[s][15].value||void 0==e[s][15].value)var d=!0;else d=e[s][15].value;if(""==e[s][16].value||null==e[s][16].value||void 0==e[s][16].value)var c=!0;else c=e[s][16].value;if(""==e[s][12].value||null==e[s][12].value||void 0==e[s][12].value)var u=!1;else u=e[s][12].value;if(""==e[s][17].value||null==e[s][17].value||void 0==e[s][17].value)var h=!1;else h=e[s][17].value;if(void 0!==e[s][20])if(""==e[s][20].value||null==e[s][20].value||void 0==e[s][20].value)var f=!0;else f=e[s][20].value;else f=!0;if(void 0!==e[s][18])if(""==e[s][18].value||null==e[s][18].value||void 0==e[s][18].value)var v=!1;else v=e[s][18].value;else v=!1;if(void 0!==e[s][19])if(""==e[s][19].value||null==e[s][19].value||void 0==e[s][19].value)var m=0;else m=e[s][19].value;else m=0;r+='{\n        "heroId": "hero-elem'+s+'",',r+='\n        "active": '+f+",",r+='\n        "sticky": '+v+",",r+='\n        "showCountdown": '+p+",",r+='\n        "popUpLink": '+u+",",r+='\n        "date": {',r+='\n          "start": "'+e[s][0].value+'",',r+='\n          "end": "'+e[s][1].value+'",',r+='\n          "delay": '+m,r+="\n        },",r+='\n        "title": {',r+='\n          "en": "'+e[s][2].value.trim()+'",',r+='\n          "fr": "'+e[s][3].value.trim()+'",',r+='\n          "color": "'+e[s][4].value+'",',r+='\n          "showTitle": '+d,r+="\n        },",r+='\n        "text": {',r+='\n          "en": "'+e[s][5].value.trim()+'",',r+='\n          "fr": "'+e[s][6].value.trim()+'",',r+='\n          "showSubTitle": '+c,r+="\n        },",r+='\n        "promote": '+h+",",r+='\n        "button": {',r+='\n          "label": {',r+='\n            "en": "'+e[s][9].value.trim()+'",',r+='\n            "fr": "'+e[s][10].value.trim()+'"',r+="\n          },",r+='\n        "url": "'+e[s][11].value+'",',r+='\n        "popUpLinkID": "'+i+'"',r+="\n        },",r+='\n        "image": {',r+='\n          "url": "'+e[s][7].value+'",',r+='\n          "altUrl": "'+e[s][8].value+'"',r+="\n        }",l>s&&(r+="\n},\n")}r+="\n      }\n   ]\n}"}"full"==t?("block"==$(app.objects.he).css("display")&&$(app.objects.he).css("display","none"),"block"==$(app.objects.h).css("display")&&$(app.objects.h).css("display","none"),"block"==$(app.objects.ls).css("display")&&$(app.objects.ls).css("display","none"),$(app.objects.o).attr(app.handlers.r,"output"),$(app.objects.o).css("display","block"),$(app.objects.o+" textarea").val(r),$(app.objects.r).animate({scrollTop:0},app.animation.d.min).css("overflow","hidden"),"hero"==o&&core.errorHandler(),core.panelAlert("JSON Exported Successfuly","good")):core.saveNodeToLS(r,a)}catch(b){core.panelAlert("An unknown error has occured. Please make sure all required fields are filled.","error")}},urlExists:function(e){var t=jQuery.ajax({type:"HEAD",url:"https:"+e,async:!1});return t.status},validateImage:function(e,t){if("main"==e){var a=$(app.objects.c+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".main_image").val(),o=$(app.objects.c+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".main_image"),n=$(app.objects.c+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".main_image").parent().attr("class");if(""!==a){var l=core.urlExists(a);200!==l?"input_holders"==n?$(o).next().next().css("background-color","#ff3300").css("font-weight","bold").css("color","#fff").html("Image does not exist"):$(o).next().css("background-color","#ff3300").css("font-weight","bold").css("color","#fff").html("Image does not exist"):200==l?"input_holders"==n?$(o).next().next().attr("style","").css("background-color","rgb(82, 197, 82)").html("Image validated"):$(o).next().attr("style","").css("background-color","rgb(82, 197, 82)").html("Image validated"):"input_holders"==n?$(o).next().next().attr("style","").html("Shopify CDN"):$(o).next().attr("style","").html("Shopify CDN")}else"input_holders"==n?$(o).next().next().css("background-color","#eee").html("Nothing to validate"):$(o).next().css("background-color","#eee").html("Nothing to validate")}else if("alt"==e)if(a=$(app.objects.ca+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".alt_image").val(),o=$(app.objects.ca+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".alt_image"),n=$(app.objects.ca+"["+app.handlers.d+'="'+t+'"]').parent().parent().parent().parent().parent().parent().parent().parent().find(".alt_image").parent().attr("class"),""!==a){var l=core.urlExists(a);200!==l?"input_holders"==n?$(o).next().next().css("background-color","#ff3300").css("font-weight","bold").css("color","#fff").html("Image does not exist"):$(o).next().css("background-color","#ff3300").css("font-weight","bold").css("color","#fff").html("Image does not exist"):200==l?"input_holders"==n?$(o).next().next().attr("style","").css("background-color","rgb(82, 197, 82)").html("Image validated"):$(o).next().attr("style","").css("background-color","rgb(82, 197, 82)").html("Image validated"):"input_holders"==n?$(o).next().next().attr("style","").html("Shopify CDN"):$(o).next().attr("style","").html("Shopify CDN")}else"input_holders"==n?$(o).next().next().css("background-color","#eee").html("Nothing to validate"):$(o).next().css("background-color","#eee").html("Nothing to validate")},previewFeature:function(e,t,a){var o=$(app.objects.e+e).find("form").find('fieldset[data-role="hero"]').serializeArray(),n=o[0].value,l=o[7].value,r=o[4].value;if(a==app.language.e)var s=o[2].value,i=o[5].value,p=o[9].value,d="Ends In";else a==app.language.f&&(s=o[3].value,i=o[6].value,p=o[10].value,d="Termine dans");var c=o[11].value,u=app.objects.h,h=".render_output",f=o[16].value,v='<div class="preview_warning" title="The position and size of the background may display differently than on the live site.">Preview may differ from actual site render</div>';if("small"==t)var m='<div class="five columns jose pedro homepage_content event mini-spacers animated fadeIn delay-05s"><div id="event-active-today">';else m="";m+='<div data-instance="slide-0" data-str="'+l+'"',m+=' data-promote="true" id="slide-0" class="hero fwidth root-0"><div data-object-pos="false-false" class="bcg skrollable skrollable-between" data-center="background-position: 50% 0px;" data-top-bottom="background-position: 50% -200px;" data-anchor-target="#slide-0"',m+=' style="background-image: url('+l+'); background-position: 50% -55.2631578947369px;"><div class="hsContainer"><div class="hsContent center skrollable skrollable-before" data-100-top="opacity: 1" data-25-top="opacity: 0" data-anchor-target="#slide-0 .animated" style="opacity: 1;">',m+='<div itemscope="" itemtype="http://schema.org/Event" class="animated fadeIn delay-025s hero_head"><p itemprop="startDate" content="'+n+'" class="subtitle timedown is-countdown" id="countdown0" style="opacity:0.9"><span>'+d+"  <b>11:29:39</b> </span></p>",m+='<h1 class="headline herobanner" style="color:'+r+'">'+s+"</h1>","true"==f&&(m+='<p class="subtitle herobanner">'+i+"</p>"),m+='<a data-bleed="" href="'+c+'" class="action_button hero"><span class="trn" data-trn-key="">'+p+"</span></a>",m+="</div></div></div></div></div>","small"==t?m+='</div></div><div style="clear:both"></div>':"large"==t&&(m+=v),$(u).show().css("top",sPos+50),$(h).empty().append(m),"small"==t?(pfHero=e,pfMode=t,$(h).addClass("renderSmall").attr("data-hero",e).attr("data-language",a).attr("data-mode",t)):"large"==t&&(pfHero=e,pfMode=t,$(h).removeClass("renderSmall").attr("data-hero",e).attr("data-language",a).attr("data-mode",t))}};$(function(){core.setHeadSec(),core.initializeTheme(),core.initHelp(),core.getVersion(!0),setInterval("core.getVersion(false)",6e5),$(".date_obj").datetimepicker({format:"MM/DD/YYYY HH:mm"}),$(".btnAdd").attr("disabled",!1),$(".btnDel").attr("disabled",!0),$(app.objects.bo).on("click",".btnAdd",function(){core.addItems()}).on("click",".overlay_close",function(){$(this).parent().parent().hide(),$(app.objects.r).css("overflow","auto"),$(".overlay_message").css("display","none")}).on("click",".select_content",function(){var e=$(app.objects.b+" textarea");e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})}).on("click",".gotoItem",function(){var e=$(this).data("item");$(app.objects.r).animate({scrollTop:$(app.objects.e+e).offset().top-60},app.animation.d.min),"block"==$(app.objects.o).css("display")&&($(app.objects.r).css("overflow","auto"),$("#oapp.objects.output").css("display","none")),"block"==$(app.objects.he).css("display")&&$(app.objects.he).css("display","none")
}).on("click",".about_app,.version_number",function(){window.open("../release.html","_blank","scrollbars=no,resizable=no,height=600, width=800, status=yes, toolbar=no, menubar=no, location=no")}).on("click",".btnAddMulti",function(){$("#query-zone").toggle(),$(app.objects.r).animate({scrollTop:0},app.animation.d.min),"block"==$(app.objects.o).css("display")&&$(app.objects.o).css("display","none"),"block"==$(app.objects.h).css("display")&&$(app.objects.h).css("display","none"),$(".num_select").focus()}).on("click",app.objects.c,function(e){var t=$(this).data("handler");core.validateImage("main",t),e.preventDefault()}).on("click",".multiquery_close",function(){$(this).parent().parent().hide()}).on("click",".check_alt_image",function(e){var t=$(this).data("handler");core.validateImage("alt",t),e.preventDefault()}).on("click",".overlay_validate",function(){core.validateJSON()}).on("click",".previewItem.large",function(e){$(app.objects.r).animate({scrollTop:sPos},app.animation.d.min).css("overflow","hidden");var t=$(this).data("hero");core.previewFeature(t,"large",pfLang),e.preventDefault()}).on("click",".previewItem.small",function(e){$(app.objects.r).animate({scrollTop:sPos},app.animation.d.min).css("overflow","hidden");var t=$(this).data("hero");core.previewFeature(t,"small",pfLang),e.preventDefault()}).on("click",".removeThisItem",function(){var e=$(this).data("item");core.deleteItems(e)}).on("click",".loadItem",function(){var e=$(this).attr(app.handlers.i);core.traverseJSON(!0,e)}).on("click",".copy-zone",function(){core.OpenInNewTab("https://github.com/davidemaser/davidemaser.github.io")}).on("click",".showHelp",function(){$(app.objects.he).toggle(),"block"==$(app.objects.he).css("display")?$(app.objects.r).animate({scrollTop:0},app.animation.d.min).css("overflow","hidden"):$(app.objects.r).css("overflow","auto"),"block"==$(app.objects.o).css("display")&&$(app.objects.o).css("display","none"),"block"==$(app.objects.h).css("display")&&$(app.objects.h).css("display","none")}).on("click",".help_close",function(){"block"==$(app.objects.he).css("display")&&($(this).parent().parent().hide(),$(app.objects.r).css("overflow","auto"))}).on("click",".renderer_close",function(){"block"==$(app.objects.h).css("display")&&($(this).parent().parent().hide(),$(app.objects.r).css("overflow","auto"),$(app.objects.h).find(".render_output").empty())}).on("click",".btnNmode",function(){var e=$(app.dom.b).attr("data-nmode");"hero"==e?($(app.dom.b).attr("data-nmode","hello"),$(this).attr("data-nmode","hello"),$(this).html("Switch to Hero Banner Mode"),core.switchModes("hello")):"hello"==e&&($(app.dom.b).attr("data-nmode","hero"),$(this).attr("data-nmode","hero"),$(this).html("Switch to Hello Bar Mode"),core.switchModes("hero"))}).on("click",".btnDel",function(){core.deleteItems("last")}).on("click",".submit_json",function(){var e=$(this).attr("data-nmode");core.prepareJSON("full",null,e)}).on("click",".translate_json",function(){$(".overlay_message").html(""),$(app.objects.r).animate({scrollTop:0},app.animation.d.min).css("overflow","hidden"),$(app.objects.o).attr(app.handlers.r,"translate").css("display","block").find("#output_code").val("").attr("placeholder","Paste you code here")}).on("click",".save_json",function(){1==app.save?core.doLocalSave():confirm("The save to localstorage feature is disabled. Change the save value to true in the globals file.")}).on("click",".import_json",function(){core.choseLocalSave()}).on("click",".overlay_translate",function(){core.traverseJSON(!1)}).on("click",".errors_reset",function(){$("input,select").attr("style","").attr("placeholder",""),$(".errorList").css("display","none"),$(app.objects.r).css("overflow","auto"),$(app.objects.i).find(".input_alerts").remove(),$(app.objects.i).contents().unwrap(),core.panelAlert("Errors Reset","good")}).on("click",".form_reset",function(e){$(app.objects.r).animate({scrollTop:0},app.animation.d.min).css("overflow","hidden"),$(".clonedInput:gt(0)").remove(),$(".snapTo").find("li:gt(0)").remove(),$("input").val(""),$("input,select").attr("style","").attr("placeholder",""),$(".errorList").css("display","none"),$(app.objects.r).css("overflow","auto"),$(app.objects.i).find(".input_alerts").remove(),$(app.objects.i).contents().unwrap(),$(".reordered").remove(),core.panelAlert("Form Reset To Default","good"),e.preventDefault()}).on("click",".itemize_reset",function(e){core.resetItems(),e.preventDefault()}).on("click",".form_local_reset",function(e){core.doLocalSave("reset"),$(app.objects.l).hide(),e.preventDefault()}).on("click","input,select",function(){$(this).attr("style","").attr("placeholder",""),$(this).parent().hasClass("input_holders")&&($(this).parent().find(".input_alerts").remove(),$(this).unwrap())}).on("click",".helpItem",function(){var e=$(this).data("target");core.jumpToHelper(e)}).on("click",".image_count",function(){$(this).attr("style",""),$(this).text("Shopify CDN")}).on("click",".btnSwitch",function(e){if(pfLang=$(this).data("language"),$(".btnSwitch").removeClass("view-active"),$('.btnSwitch[data-language="'+pfLang+'"]').addClass("view-active"),$(app.objects.ro).children().not(".preview_warning").length>0){var t=pfHero,a=pfLang,o=pfMode;core.previewFeature(t,o,a)}core.panelAlert("Preview language changed","good"),e.preventDefault()}).on("click",".panel-body.bottom_level_bt",function(){$(this).slideUp()}).on("click",".show_me_how",function(){var e=$(this).data("target")-1;$(app.objects.r).animate({scrollTop:0},{duration:app.animation.d.min,complete:function(){$(app.objects.he).show(),core.jumpToHelper(e)}}).css("overflow","hidden")}).on("click",".helpItemReset",function(){$(app.objects.hi).animate({opacity:1},app.animation.d.min)}).on("click",".settings_toggle",function(e){var t=$(this).data("theme");$("html").attr(app.handlers.t,t),window.localStorage&&localStorage.setItem("pgb_Theme",t),core.panelAlert("Theme Settings Updated","good"),e.preventDefault()}).on("click",".moveUpThisItem",function(e){var t=$(this).data("item"),a=$(this).parent().parent().parent().parent().parent().parent(),o=$(a).closest(app.objects.cl).prev(),n=$(a).data("split");$(a).attr(app.handlers.s,n-1),$(a).insertBefore(o),$(app.objects.r).animate({scrollTop:$(app.objects.e+t).offset().top-60},app.animation.d.min),$(this).parent().parent().parent().find(".reordered").remove(),$(this).parent().parent().parent().find(".btn.btn-info:not(.dropdown-toggle)").prepend('<span title="This entry has been moved from it\'s original position" class="glyphicon glyphicon-fullscreen reordered" aria-hidden="true"></span>'),core.panelAlert("Item Order Changed","good"),e.preventDefault()}).on("click",".moveDownThisItem",function(e){var t=$(this).data("item"),a=$(this).parent().parent().parent().parent().parent().parent(),o=$(a).closest(app.objects.cl).next(),n=$(a).data("split"),l=$(o).attr("id");l.indexOf("entry")>-1?($(a).attr(app.handlers.s,n+1),$(a).insertAfter(o),$(app.objects.r).animate({scrollTop:$(app.objects.e+t).offset().top-60},app.animation.d.min),$(this).parent().parent().parent().find(".reordered").remove(),$(this).parent().parent().parent().find(".btn.btn-info:not(.dropdown-toggle)").prepend('<span title="This entry has been moved from it\'s original position" class="glyphicon glyphicon-fullscreen reordered" aria-hidden="true"></span>'),core.panelAlert("Item Order Changed","good")):core.panelAlert("If I move down any further, I'll be off the page.","error"),e.preventDefault()}).on("click",".batsToggle",function(){"active"==$(this).attr("data-status")?core.killBats():"allGone"==$(this).attr("data-status")&&(core.launchBats(),core.launchBats(),core.launchBats(),core.launchBats(),core.launchBats(),$(".batsToggle").attr("data-status","active").html("Kill The Bats"))}).on("keyup","input",function(){var e=$(this).val().length;if($(this).hasClass("objTitleEN")||$(this).hasClass("objTitleFR")||$(this).hasClass("objTextEN")||$(this).hasClass("objTextFR"))var t=35;else($(this).hasClass("objButtonEN")||$(this).hasClass("objButtonFR"))&&(t=15);e>t?"input_holders"!==$(this).parent().attr("class")&&($(this).wrap('<div class="input_holders"></div>').parent().append('<div class="input_alerts" title="The length of your text may be too long for the hero banner container. Make sure to check that it displays correctly."><span class="glyphicon glyphicon-exclamation-sign"></span></div>'),$(this).focus()):t>=e&&"input_holders"==$(this).parent().attr("class")&&($(this).parent().find(".input_alerts").remove(),$(this).unwrap(),$(this).focus())}).on("keyup",".num_select",function(e){13==e.keyCode&&($(this).trigger("enterKey"),core.addMulti($(this).val()),$(this).parent().parent().parent().parent().hide())}).on("keyup",".lsl_select",function(e){13==e.keyCode&&($(this).trigger("enterKey"),core.prepareJSON("save",$(this).val()),$(this).parent().parent().parent().parent().hide(),core.setHeadSec())}).on("keyup",app.objects.o+"["+app.handlers.r+'="translate"] #output_code',function(e){45==e.keyCode&&($(this).trigger("enterKey"),core.traverseJSON(!1),e.preventDefault())}).on("change",".objHeroSticky",function(){var e=$(this).val();"true"==e&&$(this).parent().parent().find('.objHeroPromote option[value="true"]').attr("selected",!1)}).on("change",".objButtonPopup",function(){var e=$(this).val();"true"==e?$(this).parent().parent().find(".objButtonPopupLink").attr("style",""):"false"==e&&$(this).parent().parent().find(".objButtonPopupLink").css("opacity",.3)}).on("change",".input_radio",function(){var e=$(this).parent().parent().parent().parent().parent().attr("id").replace("entry","");"true"==$(this).val()?($(this).parent().parent().css("border-left","6px solid #68B81F"),$(this).parent().parent().parent().parent().find("h2").find("span").removeClass("label-danger").addClass("label-default"),$(".gotoItem["+app.handlers.i+'="'+e+'"]').removeClass("redout").attr("title","")):($(this).parent().parent().css("border-left","6px solid #FD0000"),$(this).parent().parent().parent().parent().find("h2").find("span").removeClass("label-default").addClass("label-danger"),$(".gotoItem["+app.handlers.i+'="'+e+'"]').addClass("redout").attr("title","This Hero entry is not activated"))}).on("change",".lsOptions",function(){try{if(""!==$(this).val()||"undefined"!==$(this).val()||void 0!==$(this).val()||"null"!==$(this).val()||null!==$(this).val()){var e=$(this).val();core.traverseJSON(!0,e)}else panelAlert("Please select a valid data item from the dropdown","error")}catch(t){}}),$(window).on("scroll",function(){$(window).scrollTop()+$(window).height()==$(document).height()?$(".copy-zone").fadeIn(app.animation.d.min):$(".copy-zone").fadeOut(app.animation.d.min)}).on("resize",function(){core.scrollState("a")}),$(document).on("keydown",function(e){if(71==e.keyCode&&e.ctrlKey){var t=$(".submit_json").attr("data-nmode");core.prepareJSON("full",null,t),e.preventDefault()}if(82==e.keyCode&&e.ctrlKey&&(core.deleteItems(),e.preventDefault()),73==e.keyCode&&e.ctrlKey&&!e.altKey&&(core.addItems(),e.preventDefault()),73==e.keyCode&&e.ctrlKey&&e.altKey&&($("#query-zone").toggle(),$(app.objects.r).animate({scrollTop:0},app.animation.d.min),"block"==$(app.objects.o).css("display")&&$(app.objects.o).css("display","none"),"block"==$(app.objects.h).css("display")&&$(app.objects.h).css("display","none"),$(".num_select").focus(),e.preventDefault()),83==e.keyCode&&e.ctrlKey&&e.shiftKey&&core.prepareJSON("save"),13==e.keyCode&&e.ctrlKey&&e.altKey&&($(".overlay_message").html(""),$(app.objects.r).animate({scrollTop:0},app.animation.d.min).css("overflow","hidden"),$(app.objects.o).attr(app.handlers.r,"translate").css("display","block").find("#output_code").val("").attr("placeholder","Paste you code here"),e.preventDefault()),45==e.keyCode&&e.ctrlKey&&e.altKey&&core.traverseJSON(!0),69==e.keyCode&&e.ctrlKey&&e.altKey){if(pfLang==app.language.e?pfLang=app.language.f:pfLang==app.language.f&&(pfLang=app.language.e),$(".btnSwitch").removeClass("view-active"),$('.btnSwitch[data-language="'+pfLang+'"]').addClass("view-active"),$(app.objects.ro).children().not(".preview_warning").length>0){var a=pfHero,o=pfLang,n=pfMode;core.previewFeature(a,n,o)}core.panelAlert("Preview language changed","good"),e.preventDefault()}191==e.keyCode&&e.ctrlKey&&(window.open("../release.html","_blank","scrollbars=no,resizable=no,height=600, width=800, status=yes, toolbar=no, menubar=no, location=no"),e.preventDefault())}).on("scroll",function(){core.scrollState("b"),sPos=$(window).scrollTop()});var e=new Date,t=e.getDate(),a=e.getMonth()+1;10==a&&t>21&&($(".main_nav").append('<li class="divider"></li><li><a href="#" class="batsToggle" data-status="active">Kill The Bats</a></li>'),core.launchBats(),core.launchBats(),core.launchBats(),core.launchBats(),core.launchBats())});